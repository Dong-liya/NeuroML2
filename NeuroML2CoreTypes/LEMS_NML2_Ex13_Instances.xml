<Lems>

   <!-- Example with instances of cells in populations having different parameters... -->

   <!-- NOT YET FULLY TESTED!!!! -->


<!-- Specify which component to run -->
<Target component="sim1"/>

<!-- Include core NeuroML2 ComponentType definitions -->
<Include file="Cells.xml"/>
<Include file="Networks.xml"/>
<Include file="Simulation.xml"/>


        <!-- Main NeuroML2 content.-->


    <iafTauCell id="iafTauSpontaneous1" leakReversal="-50mV" thresh="-55mV" reset="-70mV" tau="30ms" />
    <iafTauCell id="iafTauSpontaneous2" leakReversal="-50mV" thresh="-55mV" reset="-70mV" tau="26ms" />

    <network id="net1">


        <population id="iafpop" component="iafTauSpontaneous1" size="3"/>
        
        <population type="populationList" id="iafpopinstances" component="iafTauSpontaneous2">
            <instance id="0"/>
            <instance id="1"/>
            <instance id="2"/>
        </population>

    </network>

        <!-- End of NeuroML2 content -->


<Simulation id="sim1" length="200ms" step="0.05ms" target="net1">

    <Display id="d1" title="Ex13: IaF cells in LEMS" timeScale="1ms" xmin="0" xmax="200" ymin="-75" ymax="-50">
        <Line id ="iz0" quantity="iafpop[0]/v" scale="1mV"  color="#ee40FF" timeScale="1ms"/>
        <Line id ="iz1" quantity="iafpopinstances/0/iafTauSpontaneous2/v" scale="1mV"  color="#ee0555" timeScale="1ms"/>
        <Line id ="iz2" quantity="iafpopinstances/2/iafTauSpontaneous2/v" scale="1mV"  color="#333FF" timeScale="1ms"/>
        <!--<Line id ="iz1" quantity="iafpop[1]/v" scale="1mV"  color="#eeffFF" timeScale="1ms"/>
        <Line id ="iz2" quantity="iafpop[2]/v" scale="1mV"  color="#40eeFF" timeScale="1ms"/>-->
    </Display>


</Simulation>

</Lems>